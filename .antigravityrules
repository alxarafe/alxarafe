# Alxarafe AI Behavior and Project Structure Rules

## Language & Coding Standards
- **Code & Comments**: All PHP code, shell scripts, Blade templates, and internal documentation (DocBlocks, inline comments) MUST be in **English**.
- **User Communication**: The USER prefers Spanish. Assistant should support this by communicating in Spanish while keeping technical/code references in English.
- **Documentation Workflow**:
    - `doc/es/`: Primary source for documentation in Spanish.
    - `doc/en/`: Translation of `doc/es/`. The assistant is responsible for maintaining the English version in sync with the Spanish one.
    - Reference workflow: `.agents/workflows/sync-docs.md`.
- **Commit Messages**: Should be in **English** (following the repo standard).

## Project Structure
- **No Scripts in Root**: All executable scripts must be in subdirectories (`bin/`, `scripts/`, etc.).
- **Configuration Layout**: 
    - `config/config.json`: Primary configuration file.
    - `config/routes.php`: Primary routes definition.
    - Framework fallback: The framework MUST support both the `config/` subdirectory AND the project root for these files to ensure backward compatibility, but always prefer the `config/` location.
- **Skeleton Structure**:
    - `skeleton/config/`: Configuration files for the demo/base app.
    - `skeleton/bin/`: Application-specific scripts and CLI tools for the skeleton.
- **`bin/` Folder**: Shared repository scripts (must be path-independent).
- **`ai-scripts/` Folder**: Internal AI-only scripts (Git-ignored).
- **Documentation Root**: Directory name is `doc/`.

## Code Decoupling
- **HTML, PHP, and TypeScript must remain decoupled** â€” they cannot be mixed or embedded within each other.
- Do NOT embed HTML strings within PHP classes (use Blade template files instead).
- Do NOT embed PHP logic within HTML templates (use Blade directives or pass variables).
- TypeScript must be in dedicated `.ts` files, never inline in PHP or Blade.
- **Client-side templates** (read via `file_get_contents` for JS injection) must NOT contain Blade directives (`@extends`, `@section`, etc.).

